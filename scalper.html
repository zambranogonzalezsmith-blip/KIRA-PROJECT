<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>KIRA | SCALPING RADAR</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { background: #000; color: #00ff41; font-family: 'JetBrains Mono', monospace; }
        .radar-font { font-family: 'Orbitron', sans-serif; }
        .glass-panel { background: rgba(5, 5, 5, 0.95); border: 1px solid #111; }
        .scanner-line { 
            height: 2px; background: rgba(0, 255, 65, 0.2); 
            width: 100%; position: absolute; animation: scan 3s linear infinite; 
        }
        @keyframes scan { 0% { top: 0; } 100% { top: 100%; } }
        .signal-pulse { animation: pulse-red 1.5s infinite; }
        @keyframes pulse-red { 0% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.4); } 70% { box-shadow: 0 0 0 10px rgba(220, 38, 38, 0); } 100% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0); } }
    </style>
</head>
<body class="h-screen flex flex-col p-2 overflow-hidden bg-[radial-gradient(circle_at_center,_#051505_0%,_#000_100%)]">

    <header class="flex justify-between items-center p-3 glass-panel rounded-t-xl border-b border-green-900/30">
        <div class="flex items-center gap-4">
            <div class="relative w-10 h-10 border border-green-900 rounded-full flex items-center justify-center">
                <div class="scanner-line"></div>
                <span class="text-[8px] radar-font">KIRA</span>
            </div>
            <div>
                <h1 class="text-green-500 font-bold text-xs radar-font tracking-widest">SCALPING MODULE <span class="text-white">v5.2</span></h1>
                <p id="server-time" class="text-[9px] text-green-900 font-bold italic uppercase">Syncing Neural Link...</p>
            </div>
        </div>
        <div class="text-right">
            <p class="text-[9px] text-gray-600 uppercase">Current Bid</p>
            <p id="live-price" class="text-xl font-bold text-white radar-font">0.00000</p>
        </div>
    </header>

    <div class="flex-grow grid grid-cols-1 lg:grid-cols-4 gap-2 mt-1 overflow-hidden">
        
        <div class="lg:col-span-1 flex flex-col gap-2">
            <div class="glass-panel p-4 rounded-lg flex-grow flex flex-col">
                <h2 class="text-[10px] text-green-700 font-bold mb-4 uppercase text-center border-b border-green-900/20 pb-2">Impulso de Mercado</h2>
                
                <div id="signal-container" class="flex-grow flex flex-col justify-center items-center">
                    <div id="signal-badge" class="w-full py-4 text-center border border-green-900/30 text-gray-600 rounded-lg text-xs font-black uppercase">
                        Buscando Entrada...
                    </div>
                </div>

                <div class="mt-4 space-y-3">
                    <div class="flex justify-between items-center bg-black/50 p-2 rounded border border-gray-900">
                        <span class="text-[9px] text-gray-500 uppercase">Take Profit</span>
                        <span id="target-tp" class="text-xs font-bold text-green-500">---</span>
                    </div>
                    <div class="flex justify-between items-center bg-black/50 p-2 rounded border border-gray-900">
                        <span class="text-[9px] text-gray-500 uppercase">Stop Loss</span>
                        <span id="target-sl" class="text-xs font-bold text-red-500">---</span>
                    </div>
                </div>
            </div>

            <div class="glass-panel p-3 rounded-lg h-32 flex flex-col justify-center">
                <p class="text-[9px] text-center text-gray-600 mb-2 uppercase font-bold">RSI Neutro (14)</p>
                <div class="w-full bg-gray-900 h-4 rounded-full overflow-hidden relative border border-green-900/20">
                    <div id="rsi-bar" class="h-full bg-green-500 transition-all duration-500" style="width: 50%"></div>
                </div>
                <div class="flex justify-between mt-1 text-[8px] text-gray-700 font-bold">
                    <span>30</span>
                    <span id="rsi-val" class="text-white">50.00</span>
                    <span>70</span>
                </div>
            </div>
        </div>

        <div class="lg:col-span-3 glass-panel rounded-lg overflow-hidden border border-green-900/10">
            <div id="tradingview_scalp" class="h-full w-full"></div>
        </div>
    </div>

    <footer class="mt-1 p-2 glass-panel text-[8px] text-green-900 font-bold flex justify-between rounded-b-xl uppercase">
        <div id="log-status font-mono">Status: Awaiting High Volatility</div>
        <div class="radar-font">Kira Execution Engine - Low Latency Mode</div>
    </footer>

    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script>
        // CONFIGURACIÓN DEL GRÁFICO PARA SCALPING (1 MINUTO)
        new TradingView.widget({
            "autosize": true, "symbol": "FX:EURUSD", "interval": "1", "timezone": "Etc/UTC",
            "theme": "dark", "style": "1", "locale": "es", "enable_publishing": false,
            "container_id": "tradingview_scalp", "studies": ["STD;Relative_Strength_Index", "STD;Average_True_Range"]
        });

        async function syncScalper() {
            try {
                const res = await fetch('https://api.npoint.io/50a3a47c4e1b58827a76?t=' + Date.now());
                const d = await res.json();

                // Actualizar Precios y RSI
                document.getElementById('live-price').innerText = d.p;
                document.getElementById('rsi-val').innerText = d.rsi;
                document.getElementById('rsi-bar').style.width = d.rsi + '%';
                document.getElementById('target-tp').innerText = d.tp;
                document.getElementById('target-sl').innerText = d.sl;
                document.getElementById('server-time').innerText = "Last Neural Update: " + d.time;

                // Lógica Visual de Señal
                const badge = document.getElementById('signal-badge');
                badge.innerText = d.sig;
                
                if (d.col === "green") {
                    badge.className = "w-full py-4 text-center border border-green-500 bg-green-900/20 text-green-400 rounded-lg text-sm font-black uppercase shadow-[0_0_15px_rgba(34,197,94,0.3)]";
                } else if (d.col === "red") {
                    badge.className = "w-full py-4 text-center border border-red-500 bg-red-900/20 text-red-400 rounded-lg text-sm font-black uppercase signal-pulse";
                } else {
                    badge.className = "w-full py-4 text-center border border-gray-800 text-gray-600 rounded-lg text-xs font-black uppercase";
                }

            } catch (e) { console.log("Radar offline..."); }
        }
        setInterval(syncScalper, 3000); // Frecuencia de Scalping
    </script>
</body>
</html>
