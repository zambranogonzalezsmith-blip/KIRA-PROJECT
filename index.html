<!DOCTYPE html>
<html lang="es">
<head>
    <script src="https://www.gstatic.com/firebasejs/9.x.x/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.x.x/firebase-database-compat.js"></script>

<script>
  // CONFIGURACIÓN DE TU PROYECTO (Copia esto desde la consola de Firebase)
  const firebaseConfig = {
    apiKey: "TU_API_KEY",
    authDomain: "tu-proyecto.firebaseapp.com",
    databaseURL: "https://tu-proyecto.firebaseio.com",
    projectId: "tu-proyecto",
    storageBucket: "tu-proyecto.appspot.com",
    messagingSenderId: "tu-id",
    appId: "tu-app-id"
  };
  
  // Inicializar Firebase
  firebase.initializeApp(firebaseConfig);
  const database = firebase.database();
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KIRA | Oracle Trading Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
    <style>
        body { background-color: #0a0a0b; color: #e2e2e2; font-family: 'Inter', sans-serif; }
        #chart { height: 600px; width: 100%; }
        .kira-border { border: 1px solid #1f2937; }
        .neon-text { text-shadow: 0 0 10px #3b82f6; }
    </style>
</head>
<body class="p-4">
    <header class="flex justify-between items-center mb-6 p-4 kira-border rounded-lg bg-black/50">
        <div>
            <h1 class="text-2xl font-bold neon-text uppercase tracking-tighter">Kira Oracle <span class="text-blue-500">v1.0</span></h1>
            <p class="text-xs text-gray-500">Soberanía Económica | EURUSD - XAUUSD</p>
        </div>
        <div class="text-right">
            <span id="market-status" class="px-3 py-1 bg-green-900/30 text-green-400 text-xs rounded-full border border-green-500/50">MERCADO ABIERTO</span>
        </div>
    </header>

    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
        <div class="lg:col-span-1 space-y-4">
            <div class="p-4 kira-border rounded-lg bg-gray-900/40">
                <h2 class="text-sm font-semibold mb-3 text-blue-400">ANÁLISIS SMC</h2>
                <div id="signals" class="space-y-2">
                    <div class="p-2 text-xs bg-blue-500/10 border-l-2 border-blue-500">Buscando Order Blocks...</div>
                    <div class="p-2 text-xs bg-purple-500/10 border-l-2 border-purple-500 text-purple-300">FVG detectado en H1</div>
                </div>
            </div>

            <div class="p-4 kira-border rounded-lg bg-gray-900/40">
                <h2 class="text-sm font-semibold mb-3 text-red-400">GESTIÓN DE RIESGO</h2>
                <label class="text-[10px] text-gray-400">CAPITAL (USD)</label>
                <input type="number" value="1000" class="w-full bg-black border border-gray-700 p-2 rounded text-sm mb-2">
                <button class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded text-sm font-bold transition">CALCULAR LOTAJE</button>
            </div>
        </div>

        <div class="lg:col-span-3 p-4 kira-border rounded-lg bg-black/80 relative">
            <div id="chart"></div>
        </div>
    </div>

    <script>
        // Configuración del gráfico de TradingView
        const chart = LightweightCharts.createChart(document.getElementById('chart'), {
            layout: { backgroundColor: 'transparent', textColor: '#d1d4dc' },
            grid: { vertLines: { color: '#1f2937' }, horzLines: { color: '#1f2937' } },
            crosshair: { mode: LightweightCharts.CrosshairMode.Normal },
            priceScale: { borderColor: '#485c7b' },
            timeScale: { borderColor: '#485c7b' },
        });

        const candleSeries = chart.addCandlestickSeries({
            upColor: '#10b981', downColor: '#ef4444', 
            borderDownColor: '#ef4444', borderUpColor: '#10b981', 
            wickDownColor: '#ef4444', wickUpColor: '#10b981' 
        });

        // Simulación de datos (En la versión final conectaremos tu API de Admirals/JustMarkets)
        const data = [
            { time: '2026-02-01', open: 1.0850, high: 1.0870, low: 1.0840, close: 1.0865 },
            { time: '2026-02-02', open: 1.0865, high: 1.0890, low: 1.0860, close: 1.0880 },
            // Kira irá inyectando datos reales aquí vía WebSocket
        ];
        candleSeries.setData(data);

        // Marcador de Order Block (Ejemplo Visual)
        candleSeries.setMarkers([
            { time: '2026-02-01', position: 'belowBar', color: '#3b82f6', shape: 'arrowUp', text: 'OB BULLISH' }
        ]);
    </script>
</body>
</html>
